<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Egg Dropping Puzzle - n eggs and m floors - Upskill Zone</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=G-Y97196DR8X"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-Y97196DR8X', { 'anonymize_ip': true }); </script> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Egg Dropping Puzzle - n eggs and m floors | Upskill Zone</title> <meta name="generator" content="Jekyll v4.1.1" /> <meta property="og:title" content="Egg Dropping Puzzle - n eggs and m floors" /> <meta name="author" content="Ashok Karmegam" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Software Programmer’s zone to Upskill the Puzzle solving and Problem solving Skills." /> <meta property="og:description" content="Software Programmer’s zone to Upskill the Puzzle solving and Problem solving Skills." /> <link rel="canonical" href="https://upskillzone.com/Interview-Puzzles/Egg-Dropping-Puzzle-n-eggs-and-m-floors.html" /> <meta property="og:url" content="https://upskillzone.com/Interview-Puzzles/Egg-Dropping-Puzzle-n-eggs-and-m-floors.html" /> <meta property="og:site_name" content="Upskill Zone" /> <script type="application/ld+json"> {"@type":"WebPage","author":{"@type":"Person","name":"Ashok Karmegam"},"url":"https://upskillzone.com/Interview-Puzzles/Egg-Dropping-Puzzle-n-eggs-and-m-floors.html","headline":"Egg Dropping Puzzle - n eggs and m floors","dateModified":"2021-01-04T19:07:33+05:30","description":"Software Programmer’s zone to Upskill the Puzzle solving and Problem solving Skills.","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> <script data-ad-client="ca-pub-1047183429727740" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="https://upskillzone.com/" class="site-title lh-tight"> Upskill Zone </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://upskillzone.com/Interview-Puzzles/" class="nav-list-link">Interview Puzzles</a><ul class="nav-list "></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://upskillzone.com/Interview-Programs/" class="nav-list-link">Interview Programs</a><ul class="nav-list "></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Upskill Zone" aria-label="Search Upskill Zone" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="https://upskillzone.com/Interview-Puzzles/">Interview Puzzles</a></li> <li class="breadcrumb-nav-list-item"><span>Egg Dropping Puzzle - n eggs and m floors</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="egg-dropping-puzzle---n-eggs-and-m-floors"> <a href="#egg-dropping-puzzle---n-eggs-and-m-floors" class="anchor-heading" aria-labelledby="egg-dropping-puzzle---n-eggs-and-m-floors"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Egg Dropping Puzzle - n eggs and m floors </h1> <p>Given <em>n</em> number of Eggs are identical in dimension and there is a multistorey building with <em>m</em> floors. In that building only initial few floors will be safe for Dropping Eggs, which means egg wont break when it is dropped. After that all above floors are unsafe for Egg Dropping.</p> <p><strong>The Puzzle is to find till which number of floors, dropping egg is safest with optimal number of tries (dropping eggs) ?</strong></p> <ul> <li><em>n</em> number of eggs are given. All of the eggs are allowed to break in the process of solving this Puzzle.</li> <li>Optimial solution for this Puzzle should be with less number of drops.</li> <li>Don’t try to solve this puzzle by considering Earth’s gravity. Because randomly initial few floors are considered as safest to evaluate the Solution’s optimality.</li> <li>If the egg does’t break at a certain floor means, it wont break on all the below floors.</li> <li>Similarly if the egg breaks at a certain floor means, it will break on all the above floors.</li> <li>The eggs that are not broken on a drop can be reused to drop on another attempt.</li> </ul> <h2 id="1-solution"> <a href="#1-solution" class="anchor-heading" aria-labelledby="1-solution"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1. Solution </h2> <p>Simplest and unoptimal solution comes to mind immediatly is just take one of the egg and keep dropping from floor <em>1</em> to <em>m</em>. Continue this process on each floor till the egg breaks. Once the egg breaks the safest floors are found. Floors below the floor on which it breaks are the safest floors.</p> <p>Above solution is based on Linear traversal, worst case complexity is <em>O(m)</em>. To get optimal results, need to pick the floor based on Binary Search (also called as Logarithmic Search). But this has a risk of breaking all eggs before finding the results.</p> <p>So the Optimal Solution can be achieved by combining both Binary and Linear Search.</p> <ul> <li>Pick the floors based on Binary Search and drop the egg till the remainings eggs are more than one.</li> <li>Once the remaining egg is only one, then stop Binary Search and start Linear Search.</li> </ul> <h3 id="12-detailed-solution-explanation-with-youtube-video"> <a href="#12-detailed-solution-explanation-with-youtube-video" class="anchor-heading" aria-labelledby="12-detailed-solution-explanation-with-youtube-video"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.2 Detailed Solution explanation with Youtube Video </h3> <ul> <li>In below Youtube video, I have explained this puzzle solution with examples.</li> </ul> <iframe width="560" height="315" src="https://www.youtube.com/embed/Q9fwrjU0Aso" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> <h2 id="2-algorithm-pseudocode"> <a href="#2-algorithm-pseudocode" class="anchor-heading" aria-labelledby="2-algorithm-pseudocode"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2. Algorithm Pseudocode </h2> <ul> <li>Algorithm pseudocode for the above explained solution is given below.</li> </ul> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>uint32_t find_safest_floors(uint32_t n_eggs, uint32_t m_floors)
{
  uint32_t start = 1, floor;
  uint32_t end = m_floors;
  do {
    /* Always start and end points to the unchecked floors */
    if (n_eggs &gt; 1) {
      /* Do binary traversal */
      if (end != start) {
        floor = start + ((end - start) / 2);
      } else {
        floor = start;
        /* This is the last check */
      }
    } else {
      /* Do linear traversal */
      floor = start;
    }
    if (check_safe(floor) == 1) {
      if (floor &lt; end) {
        /* Checking floor range adjustment */
        /* If some more floors are there then point start next to
         * current floor. */
        start = floor + 1;
      } else {
        /* else we found it */
        return floor;
      }
    } else {
      if (n_eggs &gt; 1) {
        /* If we are in binary traversal */
        n_eggs--; /* Reduce egg count, as one egg is broken */
        if (floor &gt; start) {
          /* Checking floor range adjustment */
          /* If current checking floor is greater than start then
           * assign (floor - 1) to end. */
          end = floor - 1;
        } else {
          /* else we found it */
          return (floor - 1);
        }
      } else {
        /* else in linear traversal */
        /* Found it */
        return (floor - 1);
      }
    }
  } while (1);
}
</code></pre></div></div> <h2 id="3-complete-implementation-in-c-language"> <a href="#3-complete-implementation-in-c-language" class="anchor-heading" aria-labelledby="3-complete-implementation-in-c-language"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3. Complete Implementation in C Language </h2> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#include &lt;stdio.h&gt;
#include &lt;stdint.h&gt;
#include &lt;getopt.h&gt;
#include &lt;stdlib.h&gt;

enum enum_opt {
  OPT_HELP = 1,
  OPT_EGGS,
  OPT_FLOORS,
  OPT_SAFE_FLOOR
};

struct option lopts[] = {
  {"help", no_argument, NULL, OPT_HELP},
  {"eggs", required_argument, NULL, OPT_EGGS},
  {"floors", required_argument, NULL, OPT_FLOORS},
  {"safe-floor", required_argument, NULL, OPT_SAFE_FLOOR},
};

void help()
{
  printf("Program to perform optimized checks to find which floor is safest\n");
  printf("among m floors, when eggs are dropped.\n");
  printf("This program takes input as n eggs, m floors, and safe floor\n");
  printf("By using these inputs the program gives output as how many\n");
  printf("minimum checks are needed to find the safe floor\n");
  printf("\nUsage:\n");
  printf("&lt;exe&gt; --eggs &lt;count&gt; --floors &lt;count&gt; --safe-floor &lt;floor-num&gt;\n");
  exit(0);
}

uint32_t m_floors, n_eggs, safe_floor;
uint32_t num_of_checks = 0;

int check_safe(uint32_t floor)
{
  num_of_checks++;
  if (floor &lt;= safe_floor) return 1;
  return 0;
}

uint32_t find_safest_floors(uint32_t n_eggs, uint32_t m_floors)
{
  uint32_t start = 1, floor;
  uint32_t end = m_floors;
  printf("%u eggs and %u floors\n", n_eggs, m_floors);
  do {
    printf("Check among floors between %u and %u with %u eggs\n", start, end,
            n_eggs);
    /* Always start and end points to the unchecked floors */
    if (n_eggs &gt; 1) {
      printf(" - Doing binary traversal\n");
      /* Do binary traversal */
      if (end != start) {
        floor = start + ((end - start) / 2);
      } else {
        floor = start;
        /* This is the last check */
      }
    } else {
      printf(" - Doing linear traversal\n");
      /* Do linear traversal */
      floor = start;
      /* TODO Need to add max check */
    }
    printf(" - Checking floor %u\n", floor);
    if (check_safe(floor) == 1) {
      printf(" - %u is safe floor\n", floor);
      if (floor &lt; end) {
        /* Checking floor range adjustment */
        /* If some more floors are there then point start next to
         * current floor. */
        start = floor + 1;
      } else {
        /* else we found it */
        return floor;
      }
    } else {
      printf(" - %u is unsafe floor\n", floor);
      if (n_eggs &gt; 1) {
        /* If we are in binary traversal */
        n_eggs--; /* Reduce egg count, as one egg is broken */
        if (floor &gt; start) {
          /* Checking floor range adjustment */
          /* If current checking floor is greater than start then
           * assign (floor - 1) to end. */
          end = floor - 1;
        } else {
          /* else we found it */
          return (floor - 1);
        }
      } else {
        /* else in linear traversal */
        /* Found it */
        return (floor - 1);
      }
    }
  } while (1);
}

int main(int argc, char *argv[])
{
  uint32_t floor;
  int opt;
  while ((opt = getopt_long(argc, argv, "", lopts, NULL)) != -1) {
    switch (opt) {
      case OPT_EGGS:
        n_eggs = atoi(optarg);
        break;
      case OPT_FLOORS:
        m_floors = atoi(optarg);
        break;
      case OPT_SAFE_FLOOR:
        safe_floor = atoi(optarg);
        break;
      case OPT_HELP:
      default:
        help();
    }
  }

  if ((n_eggs == 0) || (m_floors == 0)) {
    printf("Invalid eggs(%u) or floors(%u)\n", n_eggs, m_floors);
    return -1;
  }
  floor = find_safest_floors(n_eggs, m_floors);
  printf("It took %u checks to find safest floor %u out of %u floors with %u " \
          "eggs\n", num_of_checks, floor, m_floors, n_eggs);
  return 0;
}
</code></pre></div></div> <h2 id="4-output"> <a href="#4-output" class="anchor-heading" aria-labelledby="4-output"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4. Output </h2> <ul> <li>Below is the operation of the algorithm for <strong>10 floors and 5 eggs</strong> with the safest floor 4.</li> </ul> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ./a.out --eggs 5 --floors 10 --safe-floor 4
5 eggs and 10 floors
Check among floors between 1 and 10 with 5 eggs
 - Doing binary traversal
 - Checking floor 5
 - 5 is unsafe floor
Check among floors between 1 and 4 with 4 eggs
 - Doing binary traversal
 - Checking floor 2
 - 2 is safe floor
Check among floors between 3 and 4 with 4 eggs
 - Doing binary traversal
 - Checking floor 3
 - 3 is safe floor
Check among floors between 4 and 4 with 4 eggs
 - Doing binary traversal
 - Checking floor 4
 - 4 is safe floor
It took 4 checks to find safest floor 4 out of 10 floors with 5 eggs
</code></pre></div></div> <ul> <li>Below is the operation of the algorithm for <strong>10 floors and 2 eggs</strong> with the safest floor 4.</li> </ul> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ./a.out --eggs 2 --floors 10 --safe-floor 4
2 eggs and 10 floors
Check among floors between 1 and 10 with 2 eggs
 - Doing binary traversal
 - Checking floor 5
 - 5 is unsafe floor
Check among floors between 1 and 4 with 1 eggs
 - Doing linear traversal
 - Checking floor 1
 - 1 is safe floor
Check among floors between 2 and 4 with 1 eggs
 - Doing linear traversal
 - Checking floor 2
 - 2 is safe floor
Check among floors between 3 and 4 with 1 eggs
 - Doing linear traversal
 - Checking floor 3
 - 3 is safe floor
Check among floors between 4 and 4 with 1 eggs
 - Doing linear traversal
 - Checking floor 4
 - 4 is safe floor
It took 5 checks to find safest floor 4 out of 10 floors with 2 eggs
</code></pre></div></div> <p>Above program is archived in the github <a href="https://github.com/upskillzone/upskillzone-programs/tree/main/puzzles/egg-dropping-puzzle">repo</a> with detailed explanation of how to use it.</p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
